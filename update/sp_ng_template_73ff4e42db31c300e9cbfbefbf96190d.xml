<?xml version="1.0" encoding="UTF-8"?>
<record_update table="sp_ng_template">
    <sp_ng_template action="INSERT_OR_UPDATE">
        <id>colCTRLModal</id>
        <sp_widget display_value="Page Builder">2e2adfcfdb290300e9cbfbefbf9619e9</sp_widget>
        <sys_class_name>sp_ng_template</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-10-15 17:40:56</sys_created_on>
        <sys_id>73ff4e42db31c300e9cbfbefbf96190d</sys_id>
        <sys_mod_count>21</sys_mod_count>
        <sys_name>colCTRLModal</sys_name>
        <sys_package display_value="Service Portal Customizer" source="x_60289_service_po">848abecfdbe50300e9cbfbefbf961941</sys_package>
        <sys_policy/>
        <sys_scope display_value="Service Portal Customizer">848abecfdbe50300e9cbfbefbf961941</sys_scope>
        <sys_update_name>sp_ng_template_73ff4e42db31c300e9cbfbefbf96190d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2017-11-01 21:24:59</sys_updated_on>
        <template><![CDATA[<div class="panel panel-default">
  <div class="panel-heading">
    <h4 class="panel-title">${Select a grid layout for this row}</h4>
  </div>
  <div class="panel-body wrapper-x1">
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <h3 class="display-3">
          ${Widgets}
        </h3>
        <table class="table table-responsive widgList">
          <tbody>
            <tr ng-repeat="widget in selectedColumn.widgets">
              <td width="60%" ng-click="prepMe(widget, $index)" class="clickable borderRight" >
                <h4>
                  {{getDisplayNameFromID(widget.id)}}
                </h4>
              </td>
              <td width="40%" style="text-align: center">
                <!--<a href ng-click="prepMe(widget)"><i class="fa fa-cogs fa-3x"></i></a>-->
                <a href ng-click="moveMeUp(selectedColumn.widgets, $index)"><i class="fa fa-arrow-up fa-2x" ng-if="$index > 0"></i></a>
                <a href ng-click="moveMeDown(selectedColumn.widgets, $index)"><i class="fa fa-arrow-down fa-2x" ng-if="$index < selectedColumn.widgets.length"></i></a>
                <a href ng-click="deleteMe(selectedColumn.widgets, $index)"><i class="fa fa-remove fa-2x"></i></a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-xs-12 col-sm-8" ng-show="modifiedWidget">
        <span ng-bind-html="trustHTML(modifiedWidget.description.display)"></span>
        <table class="table table-responsive table-hover options">
          <tbody>
            <tr ng-repeat="field in modifiedWidget.parsed_options">
              <td width="30%" class="labelCell">
                <label ng-attr-for="{{field.field_name}}" ng-attr-title="{{field.hint}}">{{field.display_name}}</label>
              </td>
              <td width="70%" class="inputCell" ng-show="!field.trying">
                <input class="form-control" ng-if="field.type != 'lookup' && field.type != 'imgPicker'" ng-attr-type="{{field.type}}" ng-attr-id="{{field.field_name}}"
                       ng-attr-value="{{field.value || ''}}" ng-model="modifiedWidget.fieldModels[field.field_name]" ng-model-options="{debounce: 300}" ng-change="enforceValidations(field,modifiedWidget.fieldModels)">

                <select class="show-hide form-control" ng-attr-id="{{field.name}}" ng-show="field.retLookupOptions && field.type == 'lookup'" ng-model="modifiedWidget.fieldModels[field.field_name]">
                  <option ng-repeat="option in field.retLookupOptions" ng-attr-value="{{option.value}}" ng-selected="field.value == option.value">{{option.display}}</option>
                </select>
                <select class="show-hide form-control" ng-attr-id="{{field.field_name}}" ng-show="field.imgs.length > 0 && field.type == 'imgPicker'" ng-model="modifiedWidget.fieldModels[field.field_name]" ng-options="img.value as img.displayValue for img in field.imgs track by img.value" ng-change="popImage(selectedImg)">
                  <option style="display:none" value=""></option>
                </select>
              </td>
              <td width="70%" ng-show="field.trying" style="text-align: left;">
                <span style="font-size: 2em" class="glyphicon glyphicon-refresh spinning"></span>
              </td>
            </tr>
            <tr ng-show="showThisImg" class="show-hide">
              <td colspan="2">
                <img ng-src="{{showThisImg}}" style="width: 100% !important; height: 20vw !important; border-radius: 6px;" />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="panel-footer">
    <div class="text-right">
      <button class="btn btn-success" ng-click="updateWidget(selectedColumn.widgets)">${Save}</button>
      <button class="btn btn-danger" ng-click="closeColumnCTRLModal()">${Cancel}</button>
    </div>
  </div>
</div>

<style>
  .widgList > tbody > tr > td> a i {
    color: black;
    margin-left: 3px;
    margin-right: 3px;
  }
</style>]]></template>
    </sp_ng_template>
</record_update>
